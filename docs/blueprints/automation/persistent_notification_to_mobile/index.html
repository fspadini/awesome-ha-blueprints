<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Send Web UI persistent notifications to Mobile Devices | Awesome HA Blueprints</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/persistent_notification_to_mobile"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Send Web UI persistent notifications to Mobile Devices | Awesome HA Blueprints"><meta data-react-helmet="true" name="description" content="Send Web UI persistent notifications with the provided ID to the specified Mobile Devices."><meta data-react-helmet="true" property="og:description" content="Send Web UI persistent notifications with the provided ID to the specified Mobile Devices."><link data-react-helmet="true" rel="shortcut icon" href="/awesome-ha-blueprints/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/persistent_notification_to_mobile"><link data-react-helmet="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/persistent_notification_to_mobile" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/persistent_notification_to_mobile" hreflang="x-default"><link rel="stylesheet" href="/awesome-ha-blueprints/assets/css/styles.3ab0be54.css">
<link rel="preload" href="/awesome-ha-blueprints/assets/js/runtime~main.2bed7134.js" as="script">
<link rel="preload" href="/awesome-ha-blueprints/assets/js/main.6561db49.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#fffbd4;color:#091E42" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">ðŸš€ <b>Love this project?</b> <a target="_blank" href="https://github.com/EPMatt/awesome-ha-blueprints">Drop a star on GitHub</a>ðŸŒŸ or <a target="_blank" href="https://www.buymeacoffee.com/epmatt">make a small donation</a>â˜• to show your support!</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/awesome-ha-blueprints/"><div class="navbar__logo"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Awesome HA Blueprints</b></a><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/docs/introduction/">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/awesome-ha-blueprints/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/help">Help</a><a href="https://www.buymeacoffee.com/epmatt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/EPMatt/awesome-ha-blueprints" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Send Web UI persistent notifications to Mobile Devices</h1></header><div class="card item shadow--md"><div class="card__header margin-bottom--md"><h3>Import this blueprint</h3></div><div class="card__body"><div class="row row--no-gutters"><div class="col col--6"><h5>My Home Assistant</h5><p><a href="https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A//github.com/EPMatt/awesome-ha-blueprints/blob/main/blueprints/automation/persistent_notification_to_mobile/persistent_notification_to_mobile.yaml" target="_blank" rel="noreferrer"><img src="https://my.home-assistant.io/badges/blueprint_import.svg" alt="Open your Home Assistant instance and show the blueprint import dialog with a specific blueprint pre-filled." style="width:100%;max-width:212px"></a><br><small>(Home Assistant 2021.3.0 or higher)</small></p></div><div class="col col--6"><h5>Direct Link</h5><button type="button" class="button button--primary"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path fill-rule="evenodd" d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path></svg><span> <!-- -->Copy Link</span></span></button></div></div></div></div><br><h2 class="anchor anchorWithStickyNavbar_y2LR" id="description">Description<a aria-hidden="true" class="hash-link" href="#description" title="Direct link to heading">â€‹</a></h2><p>This blueprint enables to send Web UI persistent notifications, (ie. the ones created with the <code>persistent_notification.create</code> service) to the specified mobile device or device group. It also provides the option to choose which notifications must be forwarded, based on the provided notification ID.</p><p>Working both on iOS and Android devices, mobile notifications can then be organized into a specific group. For Android devices, they can also be assigned to a specific channel (for applying custom notification settings such as sound, vibration, etc.).</p><p>This blueprint can be useful in all situations when a web interface persistent notification is desired but the event should be reported also on a mobile device.</p><p>Moreover, it can be handy in scenarios when a notification cannot be sent directly to a mobile device, for example for system generated persistent notifications (invalid login attempts, integration setup required, supervisor alerts, etc.) and for integrations/addons which, instead of providing a custom event for triggering automations, use the <code>persistent_notification.create</code> service as an event report mechanism.</p><p>Once opened on the mobile device, the relative persistent notification in the web UI is not dismissed.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requirements">Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">â€‹</a></h2><div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Persistent Notification Integration<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>You must have this integration enabled on your system to run the automation, since the notifications on the web interface are generated by this integration. This should be activated by default so unless you tweaked the default configuration you&#x27;re good to go.</p><p><a href="https://www.home-assistant.io/integrations/persistent_notification/" target="_blank" rel="noopener noreferrer">Persistent Notification Integration Docs</a></p></div><div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Mobile App Integration<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>This integration provides the service to send notification to mobile devices. This should be activated by default so unless you tweaked the default configuration you&#x27;re good to go.</p><p><a href="https://www.home-assistant.io/integrations/mobile_app/" target="_blank" rel="noopener noreferrer">Mobile App Integration Docs</a></p></div><div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Home Assistant Companion App<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>The official mobile app for Home Assistant. Make sure to have the Home Assistant Companion App installed and configured on mobile devices you plan to use for this automation.</p><p><a href="https://companion.home-assistant.io/docs/notifications/notifications-basic#sending-notifications-to-multiple-devices" target="_blank" rel="noopener noreferrer">Home Assistant Companion App Docs</a></p></div><div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Notify Group Integration<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>If you want to simultaneously send the notification to multiple devices, you can define a notification group using this integration in your <code>configuration.yaml</code>, then provide the service for the notification group in the <a href="#mobile-devices-notification-service">Mobile devices notification service input</a>. This integration should be enabled by default. More on how to setup notification groups in the official docs.</p><p><a href="https://www.home-assistant.io/integrations/notify.group/" target="_blank" rel="noopener noreferrer">Notify Group Integration Docs</a></p></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="inputs">Inputs<a aria-hidden="true" class="hash-link" href="#inputs" title="Direct link to heading">â€‹</a></h2><div><span style="font-weight:600">Notification ID<!-- --> <span class="badge badge--primary">Text</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">The notification ID of persistent notifications which must be sent to mobile devices. Empty for all notifications. This allows to filter notifications based on their ID before it gets created on the mobile device. For example, if you want to receive notifications on your mobile device for all invalid login attempts, you could set this input to `http-login`, the ID of such persistent notifications.</p><hr></div><div><span style="font-weight:600">Mobile devices notification service<!-- --> <span class="badge badge--primary">Text</span> <span class="badge badge--warning"> Required</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">The notification service for mobile devices (eg. service.mobile_app_&lt;your_device_id_here&gt;). You can provide both a notify group or a single notify device here.</p><hr></div><div><span style="font-weight:600">Replace notifications with same ID<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Replace existing notifications with the same notification ID.</p><hr></div><div><span style="font-weight:600">(Android only) Notification channel<!-- --> <span class="badge badge--primary">Text</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Android notification channel. Allows to group notifications to then apply custom settings for sound, vibration, etc. Leave blank if you do not want to use this feature.</p><hr></div><div><span style="font-weight:600">Notification group<!-- --> <span class="badge badge--primary">Text</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Notification group for the notifications sent with this automation. Use this to group notifications in the notification tray. Leave blank if you do not want to use this feature.</p><hr></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="additional-notes">Additional Notes<a aria-hidden="true" class="hash-link" href="#additional-notes" title="Direct link to heading">â€‹</a></h2><p>Please be aware that if you use notification groups which include both iOS and Android devices, some features (like Android Channels and notification groups) don&#x27;t work. More details in the <a href="https://companion.home-assistant.io/docs/notifications/notifications-basic#sending-notifications-to-multiple-devices" target="_blank" rel="noopener noreferrer">Home Assistant Companion App Docs</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="changelog">Changelog<a aria-hidden="true" class="hash-link" href="#changelog" title="Direct link to heading">â€‹</a></h2><ul><li><strong>2021-02-01</strong>: first blueprint version ðŸŽ‰</li><li><strong>2021-10-26</strong>: Standardize blueprints structure and inputs naming across the whole collection. Improve blueprint documentation. No functionality change.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/EPMatt/awesome-ha-blueprints/edit/main/docs/blueprints/automation/persistent_notification_to_mobile.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#inputs" class="table-of-contents__link toc-highlight">Inputs</a></li><li><a href="#additional-notes" class="table-of-contents__link toc-highlight">Additional Notes</a></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">Changelog</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Awesome HA Blueprints is maintained by <a href="https://github.com/EPMatt">Matteo Agnoletto</a>.<br>Licensed under the <a href="https://github.com/EPMatt/awesome-ha-blueprints/blob/main/LICENSE">GPL-3.0 License</a></div></div></div></footer></div>
<script src="/awesome-ha-blueprints/assets/js/runtime~main.2bed7134.js"></script>
<script src="/awesome-ha-blueprints/assets/js/main.6561db49.js"></script>
</body>
</html>