<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Simple Safe Scheduler | Awesome HA Blueprints</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Simple Safe Scheduler | Awesome HA Blueprints"><meta data-react-helmet="true" name="description" content="A simple scheduler which executes a certain action at a given time, checking and eventually re-executing the action if the automation did not run at the expected time (e.g. due to a disruptive event)."><meta data-react-helmet="true" property="og:description" content="A simple scheduler which executes a certain action at a given time, checking and eventually re-executing the action if the automation did not run at the expected time (e.g. due to a disruptive event)."><link data-react-helmet="true" rel="shortcut icon" href="/awesome-ha-blueprints/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler"><link data-react-helmet="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler" hreflang="x-default"><link rel="stylesheet" href="/awesome-ha-blueprints/assets/css/styles.3ab0be54.css">
<link rel="preload" href="/awesome-ha-blueprints/assets/js/runtime~main.2bed7134.js" as="script">
<link rel="preload" href="/awesome-ha-blueprints/assets/js/main.6561db49.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" style="background-color:#fffbd4;color:#091E42" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">ðŸš€ <b>Love this project?</b> <a target="_blank" href="https://github.com/EPMatt/awesome-ha-blueprints">Drop a star on GitHub</a>ðŸŒŸ or <a target="_blank" href="https://www.buymeacoffee.com/epmatt">make a small donation</a>â˜• to show your support!</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/awesome-ha-blueprints/"><div class="navbar__logo"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Awesome HA Blueprints</b></a><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/docs/introduction/">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/awesome-ha-blueprints/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/help">Help</a><a href="https://www.buymeacoffee.com/epmatt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/EPMatt/awesome-ha-blueprints" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Simple Safe Scheduler</h1></header><div class="card item shadow--md"><div class="card__header margin-bottom--md"><h3>Import this blueprint</h3></div><div class="card__body"><div class="row row--no-gutters"><div class="col col--6"><h5>My Home Assistant</h5><p><a href="https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A//github.com/EPMatt/awesome-ha-blueprints/blob/main/blueprints/automation/simple_safe_scheduler/simple_safe_scheduler.yaml" target="_blank" rel="noreferrer"><img src="https://my.home-assistant.io/badges/blueprint_import.svg" alt="Open your Home Assistant instance and show the blueprint import dialog with a specific blueprint pre-filled." style="width:100%;max-width:212px"></a><br><small>(Home Assistant 2021.3.0 or higher)</small></p></div><div class="col col--6"><h5>Direct Link</h5><button type="button" class="button button--primary"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="currentColor"><path fill-rule="evenodd" d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"></path><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"></path></svg><span> <!-- -->Copy Link</span></span></button></div></div></div></div><br><h2 class="anchor anchorWithStickyNavbar_y2LR" id="description">Description<a aria-hidden="true" class="hash-link" href="#description" title="Direct link to heading">â€‹</a></h2><p>Scheduling a periodic action in Home Assistant might be trickier than what it looks at first glance. Not only the available automation triggers are limited to only time-based schedules (requiring the user to either use template triggers or install additional integrations for more complex scheduling options), but they also do not guarantee that the automation is executed at the provided time.</p><p>As an example, let&#x27;s assume automation <em>A</em> is scheduled to run at 12:00. If the Home Assistant server goes down at 11:59 due to a disruptive event (e.g. power outage, planned maintenance, hardware failure etc.) and comes back up at 12:01, the <em>A</em> automation run scheduled for 12:00 would simply be skipped, without any warning to the user.</p><p>The Simple Safe Scheduler blueprint tries to mitigate scheduling limitations in Home Assistant by providing an easy interface to configure periodic actions, with built-in safety checks to ensure the action actually runs even in case of a disruptive event.</p><p>The configured automation acts as a simple scheduler, allowing to flexibly program any kind of action based on the following parameters:</p><ul><li>Time of the day (dynamically provided as an <code>input_datetime</code> entity);</li><li>Day of the week (multiple days can be selected);</li><li>Week frequency (allowing to schedule the action to run i.e. every 2 weeks).</li></ul><p>In addition, the blueprint implements useful checks to make sure that, in case of a disruptive event (e.g power outage, Home Assistant server outage etc.) happening at the scheduled automation run time, the action is executed as soon as the system restores its state. These checks can be configured to be performed both when Home Assistant boots up and when a custom event is fired (e.g. from another automation or integration). Such safety checks might be particularly important for critical automations, which need to run as close as possible to the scheduled time (e.g. watering plants, configuring an alarm system, etc.).</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="requirements">Requirements<a aria-hidden="true" class="hash-link" href="#requirements" title="Direct link to heading">â€‹</a></h2><div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Input Datetime Integration<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>This integration provides the entity which represents a datetime input in Home Assistant. It should be activated by default so unless you tweaked the default configuration you&#x27;re good to go.</p><p><a href="https://www.home-assistant.io/integrations/input_datetime/" target="_blank" rel="noopener noreferrer">Input Datetime Docs</a></p></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="inputs">Inputs<a aria-hidden="true" class="hash-link" href="#inputs" title="Direct link to heading">â€‹</a></h2><div><span style="font-weight:600">Action<!-- --> <span class="badge badge--primary">Action</span> <span class="badge badge--warning"> Required</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">The action which needs to be executed by this automation at the provided day and time.</p><hr></div><div><span style="font-weight:600">Helper - Storage<!-- --> <span class="badge badge--primary">Entity</span> <span class="badge badge--warning"> Required</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">A text helper which will be used by the automation to store information regarding the last successful run. You will need to manually create a text input entity for this, please read the blueprint Additional Notes for more info.</p><hr></div><div><span style="font-weight:600">Run every N weeks<!-- --> <span class="badge badge--primary">Number</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">The number of weeks between a successful run and the next one.</p><hr></div><div><span style="font-weight:600">Run on Monday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Monday.</p><hr></div><div><span style="font-weight:600">Run on Tuesday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Tuesday.</p><hr></div><div><span style="font-weight:600">Run on Wednesday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Wednesday.</p><hr></div><div><span style="font-weight:600">Run on Thursday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Thursday.</p><hr></div><div><span style="font-weight:600">Run on Friday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Friday.</p><hr></div><div><span style="font-weight:600">Run on Saturday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Saturday.</p><hr></div><div><span style="font-weight:600">Run on Sunday<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Run the action on Sunday.</p><hr></div><div><span style="font-weight:600">Run Time Entity<!-- --> <span class="badge badge--primary">Entity</span> <span class="badge badge--warning"> Required</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Entity which describes the time when the action should run. Provide an entity with only time information configured (has_time: true, has_date: false).</p><hr></div><div><span style="font-weight:600">Custom Trigger Event<!-- --> <span class="badge badge--primary">Text</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">A custom event which can trigger the execution check (eg. a powercut event reported by external integrations).</p><hr></div><div><span style="font-weight:600">Trigger at Home Assistant startup<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Trigger the execution check at Home Assistant startup.</p><hr></div><div><span style="font-weight:600">Block late execution<!-- --> <span class="badge badge--primary">Boolean</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Prevent the action to be executed too late, when a given period of time passed since the expected run time.</p><hr></div><div><span style="font-weight:600">Block late execution - Max elapsed time<!-- --> <span class="badge badge--primary">Number</span> <span class="badge badge--info">Optional</span></span><br><p style="font-size:0.9rem" class="margin-top--sm">Threshold which is used to determine a late execution: if the provided amount of time passed since the expected run time and block late execution is enabled, the action will not be executed in any case.</p><hr></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="additional-notes">Additional Notes<a aria-hidden="true" class="hash-link" href="#additional-notes" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="helper---storage-input">Helper - Storage Input<a aria-hidden="true" class="hash-link" href="#helper---storage-input" title="Direct link to heading">â€‹</a></h3><p>The <code>helper_storage</code> (Helper - Storage) input serves as a permanent storage area for the automation. The stored info is used to implement the blueprint&#x27;s core functionality. When setting up this blueprint, manually create a new <code>input_text</code> entity and provide it in the inputs section.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Make sure the text input is not altered by any other agent. The provided entity is used as a permanent storage area for just a single automation; any change to its state not carried out by the respective automation could lead to inconsistencies and unexpected behaviour. Therefore, you should create a <strong>separate text input for each automation you&#x27;re configuring with this blueprint</strong>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="advanced-scheduling">Advanced scheduling<a aria-hidden="true" class="hash-link" href="#advanced-scheduling" title="Direct link to heading">â€‹</a></h3><p>For more advanced scheduling options you can configure multiple automation with this blueprint, having the same action but with a different scheduling configuration.
Let&#x27;s say that you want to set up an action to run every two weeks on Monday, at 12:00 and also every week on Wednesday, at 13:00. You can setup two distinct automations with the same action and the following scheduling configuration (only scheduling-relevant inputs are provided):</p><p>Automation 1: Every two weeks, on Monday, at 12:00:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">weeks_frequency</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">day_monday</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">time_entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> input_datetime.automation_1 </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># its value need to be set at 12:00</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Automation 2: Every week, on Wednesday, at 13:00:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">weeks_frequency</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">day_wednesday</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">time_entity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> input_datetime.automation_2 </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># its value need to be set at 13:00</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="dynamic-scheduling-eg-sunrisesunset">Dynamic scheduling (e.g. sunrise/sunset)<a aria-hidden="true" class="hash-link" href="#dynamic-scheduling-eg-sunrisesunset" title="Direct link to heading">â€‹</a></h3><p>Using an <code>input_datetime</code> entity to provide the time the automation should run allows to flexibly configure the scheduled time, without providing an hardcoded value. This can be really useful when configuring schedules based on a dynamic time of the day, such as sunrise or sunset based automations. In the latter case, you can provide an <code>input_datetime</code> entity configured as follows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># input_datetime configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">input_datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">automation_1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Automation 1 Execution Time</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">has_date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">has_time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># your automations.yaml file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> automation_1_datetime_update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># whenever you want to update the automation dynamic execution time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># in this case at sunset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">trigger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">platform</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sun</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sunset</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">action</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> input_datetime.set_datetime</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">target</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">entity_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> input_datetime.automation_1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;{{ now().strftime(&#x27;%H:%M:%S&#x27;) }}&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="changelog">Changelog<a aria-hidden="true" class="hash-link" href="#changelog" title="Direct link to heading">â€‹</a></h2><ul><li><strong>2021-10-22</strong>: first blueprint version ðŸŽ‰</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/EPMatt/awesome-ha-blueprints/edit/main/docs/blueprints/automation/simple_safe_scheduler.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#inputs" class="table-of-contents__link toc-highlight">Inputs</a></li><li><a href="#additional-notes" class="table-of-contents__link toc-highlight">Additional Notes</a><ul><li><a href="#helper---storage-input" class="table-of-contents__link toc-highlight">Helper - Storage Input</a></li><li><a href="#advanced-scheduling" class="table-of-contents__link toc-highlight">Advanced scheduling</a></li><li><a href="#dynamic-scheduling-eg-sunrisesunset" class="table-of-contents__link toc-highlight">Dynamic scheduling (e.g. sunrise/sunset)</a></li></ul></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">Changelog</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Awesome HA Blueprints is maintained by <a href="https://github.com/EPMatt">Matteo Agnoletto</a>.<br>Licensed under the <a href="https://github.com/EPMatt/awesome-ha-blueprints/blob/main/LICENSE">GPL-3.0 License</a></div></div></div></footer></div>
<script src="/awesome-ha-blueprints/assets/js/runtime~main.2bed7134.js"></script>
<script src="/awesome-ha-blueprints/assets/js/main.6561db49.js"></script>
</body>
</html>